name: tiktok_marketing
title: TikTok Marketing Expert
version: 1.0.0
description: Complete TikTok marketing automation suite for ad creation, campaign management, content planning, trend analysis,
  competitor research, influencer discovery, and ROI tracking
metadata:
  author: Revvel AI Engine
  category: Marketing & Business
  tags:
  - manage-campaigns
  - create-tiktok-ads
  - audit-competitors
  - find-influencers
  - build-content-calendar
  - tiktok
  - marketing
  - target-audiences
  - analyze-trends
  - track-roi
  source: revvel-custom
  created_at: '2026-02-14'
  updated_at: '2026-02-16'
dependencies:
  pip_packages: []
implementation:
  type: python_code
  language: python
  content: "#!/usr/bin/env python3\n\"\"\"\nTikTok Marketing Expert skill module.\nProvides comprehensive TikTok marketing\
    \ automation, ad creation, campaign management,\ncontent planning, trend analysis, competitor research, influencer discovery,\
    \ and ROI tracking.\n\"\"\"\n\nimport json\nimport re\nimport os\nimport math\nimport hashlib\nimport statistics\nimport\
    \ requests\nfrom datetime import datetime, timedelta\nfrom collections import defaultdict, Counter\nfrom typing import\
    \ Dict, List, Any, Optional, Tuple, Union\nimport unittest\nimport logging\nimport argparse\nfrom pathlib import Path\n\
    \nSKILL_METADATA = {\n    \"name\": \"TikTok Marketing Expert\",\n    \"id\": \"tiktok_marketing\",\n    \"version\":\
    \ \"1.0.0\",\n    \"author\": \"Revvel AI Engine\",\n    \"description\": \"Complete TikTok marketing automation suite\
    \ for ad creation, campaign management, content planning, trend analysis, competitor research, influencer discovery, and\
    \ ROI tracking\",\n    \"capabilities\": [\n        \"create_tiktok_ads\",\n        \"manage_campaigns\",\n        \"\
    build_content_calendar\",\n        \"target_audiences\",\n        \"analyze_trends\",\n        \"audit_competitors\",\n\
    \        \"find_influencers\",\n        \"track_roi\",\n        \"check_compliance\",\n        \"optimize_pins\",\n  \
    \      \"create_shopping_pins\",\n        \"generate_hashtags\",\n        \"schedule_posts\",\n        \"analyze_performance\"\
    ,\n        \"create_carousel_ads\",\n        \"video_pin_optimization\",\n        \"seasonal_trend_tracking\",\n     \
    \   \"rich_pins_setup\",\n        \"board_strategy\",\n        \"visual_search_optimization\"\n    ],\n    \"domain\"\
    : \"social_media_marketing\"\n}\n\nEXPERT_PROMPTS = {\n    \"ad_creation\": \"Create a TikTok ad for {product_name} targeting\
    \ {target_audience} with objective {campaign_objective}. Include compelling headline: {headline}, description: {description},\
    \ and call-to-action: {cta}. Use keywords: {keywords}.\",\n    \"content_calendar\": \"Generate a 4-week TikTok content\
    \ calendar for {brand_name} in {industry} targeting {audience}. Include {post_frequency} posts per week with seasonal\
    \ themes: {seasonal_themes}.\",\n    \"trend_analysis\": \"Analyze TikTok trends for {industry} in {country} over the\
    \ last {time_period}. Identify top trending topics, hashtags, and seasonal patterns.\",\n    \"competitor_audit\": \"\
    Audit TikTok presence of competitor {competitor_name}. Analyze their top boards, most engaged pins, posting frequency,\
    \ and audience engagement strategies.\",\n    \"influencer_search\": \"Find TikTok influencers in {niche} with {min_followers}+\
    \ followers and engagement rate above {min_engagement}%. Provide contact info and collaboration ideas.\",\n    \"hashtag_research\"\
    : \"Generate 30 high-performing TikTok hashtags for {topic} targeting {audience}. Include seasonal variations and long-tail\
    \ keywords.\",\n    \"pin_optimization\": \"Optimize this TikTok pin: {pin_description}. Improve SEO, add relevant hashtags,\
    \ enhance visual appeal, and suggest best posting time.\",\n    \"campaign_optimization\": \"Optimize TikTok campaign\
    \ {campaign_id} with current metrics: {current_metrics}. Suggest bid adjustments, audience refinements, and creative improvements.\"\
    ,\n    \"seasonal_strategy\": \"Develop TikTok marketing strategy for {season} in {industry}. Include trending topics,\
    \ seasonal keywords, and promotional calendar.\",\n    \"shopping_pin_setup\": \"Create shopping pin strategy for {product_catalog}\
    \ including product groups, rich pins setup, and shopping ad campaigns.\",\n    \"board_optimization\": \"Optimize TikTok\
    \ boards for {brand_name}. Suggest board names, descriptions, keywords, and pinning strategy for maximum discovery.\"\
    ,\n    \"roi_tracking\": \"Set up TikTok ROI tracking for {business_name}. Define KPIs, conversion events, and reporting\
    \ dashboard structure.\"\n}\n\nPLATFORM_AD_SPECS = {\n    \"standard_pin\": {\n        \"image_ratio\": \"2:3\",\n   \
    \     \"min_width\": 1000,\n        \"max_width\": 3000,\n        \"file_types\": [\"jpg\", \"png\"],\n        \"max_file_size\"\
    : 32 * 1024 * 1024,\n        \"title_max\": 100,\n        \"description_max\": 500\n    },\n    \"video_pin\": {\n   \
    \     \"ratios\": [\"1:1\", \"2:3\", \"9:16\"],\n        \"min_width\": 240,\n        \"max_width\": 3000,\n        \"\
    duration\": \"4-15 seconds\",\n        \"file_types\": [\"mp4\", \"mov\", \"m4v\"],\n        \"max_file_size\": 2 * 1024\
    \ * 1024 * 1024\n    },\n    \"carousel_pin\": {\n        \"cards\": \"2-5\",\n        \"image_ratio\": \"1:1 or 2:3\"\
    ,\n        \"title_max\": 100,\n        \"description_max\": 500\n    },\n    \"promoted_pin\": {\n        \"objective\"\
    : [\"AWARENESS\", \"CONSIDERATION\", \"CONVERSIONS\"],\n        \"budget\": {\"min\": 2.0, \"max\": 1000000.0},\n    \
    \    \"bid\": {\"min\": 0.1, \"max\": 100.0}\n    }\n}\n\nclass TikTokAdCreator:\n    \"\"\"Handles creation of various\
    \ TikTok ad formats.\"\"\"\n    \n    def __init__(self):\n        self.logger = logging.getLogger(__name__)\n       \
    \ \n    def create_video_ad(self, product_name: str, video_url: str, headline: str, \n                       description:\
    \ str, cta: str, keywords: List[str]) -> Dict[str, Any]:\n        \"\"\"Create a TikTok video ad with all specifications.\"\
    \"\"\n        ad_id = f\"video_ad_{hashlib.md5(product_name.encode()).hexdigest()[:8]}\"\n        \n        return {\n\
    \            \"ad_id\": ad_id,\n            \"type\": \"video_pin\",\n            \"product_name\": product_name,\n  \
    \          \"video_url\": video_url,\n            \"headline\": headline,\n            \"description\": description,\n\
    \            \"cta\": cta,\n            \"keywords\": keywords,\n            \"specs\": PLATFORM_AD_SPECS[\"video_pin\"\
    ],\n            \"created_at\": datetime.now().isoformat(),\n            \"status\": \"draft\"\n        }\n    \n    def\
    \ create_image_ad(self, product_name: str, image_url: str, headline: str,\n                       description: str, cta:\
    \ str, keywords: List[str]) -> Dict[str, Any]:\n        \"\"\"Create a standard TikTok image ad.\"\"\"\n        ad_id\
    \ = f\"image_ad_{hashlib.md5(product_name.encode()).hexdigest()[:8]}\"\n        \n        return {\n            \"ad_id\"\
    : ad_id,\n            \"type\": \"standard_pin\",\n            \"product_name\": product_name,\n            \"image_url\"\
    : image_url,\n            \"headline\": headline,\n            \"description\": description,\n            \"cta\": cta,\n\
    \            \"keywords\": keywords,\n            \"specs\": PLATFORM_AD_SPECS[\"standard_pin\"],\n            \"created_at\"\
    : datetime.now().isoformat(),\n            \"status\": \"draft\"\n        }\n    \n    def create_carousel_ad(self, product_name:\
    \ str, images: List[str], \n                          headlines: List[str], descriptions: List[str], \n              \
    \            cta: str, keywords: List[str]) -> Dict[str, Any]:\n        \"\"\"Create a TikTok carousel ad with multiple\
    \ cards.\"\"\"\n        ad_id = f\"carousel_ad_{hashlib.md5(product_name.encode()).hexdigest()[:8]}\"\n        \n    \
    \    cards = []\n        for i, (img, head, desc) in enumerate(zip(images, headlines, descriptions)):\n            cards.append({\n\
    \                \"card_id\": i + 1,\n                \"image_url\": img,\n                \"headline\": head,\n     \
    \           \"description\": desc\n            })\n        \n        return {\n            \"ad_id\": ad_id,\n       \
    \     \"type\": \"carousel_pin\",\n            \"product_name\": product_name,\n            \"cards\": cards,\n      \
    \      \"cta\": cta,\n            \"keywords\": keywords,\n            \"specs\": PLATFORM_AD_SPECS[\"carousel_pin\"],\n\
    \            \"created_at\": datetime.now().isoformat(),\n            \"status\": \"draft\"\n        }\n    \n    def\
    \ quick_ad(self, product_name: str, image_url: str, target_audience: str) -> Dict[str, Any]:\n        \"\"\"Generate a\
    \ ready-to-post TikTok ad with optimized content.\"\"\"\n        ad_id = f\"quick_ad_{hashlib.md5(product_name.encode()).hexdigest()[:8]}\"\
    \n        \n        # Auto-generate optimized content\n        headline = f\"Discover {product_name} - Your Perfect Match!\"\
    \n        description = f\"Transform your {target_audience} with {product_name}. Limited time offer - shop now!\"\n  \
    \      cta = \"Shop Now\"\n        \n        # Generate trending hashtags\n        hashtags = [\"#shopping\", \"#homedecor\"\
    , \"#styleinspo\", \"#tiktokfinds\", \"#musthave\"]\n        \n        caption = f\"{headline}\\n{description}\\n{cta}\
    \ {', '.join(hashtags)}\"\n        \n        return {\n            \"ad_id\": ad_id,\n            \"ready_to_post\": True,\n\
    \            \"image_url\": image_url,\n            \"caption\": caption,\n            \"hashtags\": hashtags,\n     \
    \       \"cta\": cta,\n            \"posting_checklist\": [\n                \"Upload high-quality image (1000x1500px)\"\
    ,\n                \"Add destination URL\",\n                \"Select relevant board\",\n                \"Schedule for\
    \ peak engagement (8-11 PM)\",\n                \"Enable promoted pin if budget allows\"\n            ],\n           \
    \ \"created_at\": datetime.now().isoformat()\n        }\n    \n    def create_text_ad(self, text: str, keywords: List[str])\
    \ -> Dict[str, Any]:\n        \"\"\"Create a text-based TikTok ad (Idea Pin).\"\"\"\n        ad_id = f\"text_ad_{hashlib.md5(text.encode()).hexdigest()[:8]}\"\
    \n        \n        return {\n            \"ad_id\": ad_id,\n            \"type\": \"idea_pin\",\n            \"text\"\
    : text,\n            \"keywords\": keywords,\n            \"created_at\": datetime.now().isoformat(),\n            \"\
    status\": \"draft\"\n        }\n\nclass TikTokCampaignManager:\n    \"\"\"Manages TikTok advertising campaigns.\"\"\"\n\
    \    \n    def __init__(self):\n        self.logger = logging.getLogger(__name__)\n        \n    def create_campaign(self,\
    \ campaign_name: str, objective: str, budget: float,\n                       start_date: str, end_date: str) -> Dict[str,\
    \ Any]:\n        \"\"\"Create a new TikTok campaign.\"\"\"\n        campaign_id = f\"camp_{hashlib.md5(campaign_name.encode()).hexdigest()[:8]}\"\
    \n        \n        return {\n            \"campaign_id\": campaign_id,\n            \"name\": campaign_name,\n      \
    \      \"objective\": objective,\n            \"budget\": budget,\n            \"daily_budget\": budget / 30,\n      \
    \      \"start_date\": start_date,\n            \"end_date\": end_date,\n            \"status\": \"active\",\n       \
    \     \"created_at\": datetime.now().isoformat(),\n            \"ad_groups\": []\n        }\n    \n    def optimize_campaign(self,\
    \ campaign_id: str, metrics: Dict[str, float]) -> Dict[str, Any]:\n        \"\"\"Optimize campaign based on performance\
    \ metrics.\"\"\"\n        recommendations = []\n        \n        if metrics.get(\"ctr\", 0) < 0.02:\n            recommendations.append(\"\
    Improve ad creative - low CTR\")\n        if metrics.get(\"cpc\", 100) > 2.0:\n            recommendations.append(\"Lower\
    \ bids to reduce CPC\")\n        if metrics.get(\"conversion_rate\", 0) < 0.03:\n            recommendations.append(\"\
    Refine audience targeting\")\n            \n        return {\n            \"campaign_id\": campaign_id,\n            \"\
    current_metrics\": metrics,\n            \"recommendations\": recommendations,\n            \"optimized\": bool(recommendations),\n\
    \            \"timestamp\": datetime.now().isoformat()\n        }\n    \n    def ab_test_plan(self, campaign_id: str,\
    \ test_elements: List[str]) -> Dict[str, Any]:\n        \"\"\"Create A/B testing plan for campaign optimization.\"\"\"\
    \n        test_id = f\"ab_test_{campaign_id}_{datetime.now().strftime('%Y%m%d')}\"\n        \n        variants = []\n\
    \        for element in test_elements:\n            variants.append({\n                \"element\": element,\n       \
    \         \"variants\": [\"A\", \"B\"],\n                \"sample_size\": 1000,\n                \"duration_days\": 7\n\
    \            })\n        \n        return {\n            \"test_id\": test_id,\n            \"campaign_id\": campaign_id,\n\
    \            \"variants\": variants,\n            \"success_metric\": \"ctr\",\n            \"confidence_level\": 0.95,\n\
    \            \"created_at\": datetime.now().isoformat()\n        }\n    \n    def budget_optimizer(self, campaigns: List[Dict[str,\
    \ Any]]) -> Dict[str, Any]:\n        \"\"\"Optimize budget allocation across campaigns.\"\"\"\n        total_budget =\
    \ sum(c[\"budget\"] for c in campaigns)\n        \n        allocations = {}\n        for campaign in campaigns:\n    \
    \        performance_score = campaign.get(\"performance_score\", 0.5)\n            allocation = (performance_score / len(campaigns))\
    \ * total_budget\n            allocations[campaign[\"campaign_id\"]] = round(allocation, 2)\n        \n        return\
    \ {\n            \"total_budget\": total_budget,\n            \"optimized_allocations\": allocations,\n            \"\
    expected_roi_increase\": 0.15,\n            \"timestamp\": datetime.now().isoformat()\n        }\n\nclass TikTokContentCalendar:\n\
    \    \"\"\"Generates and manages TikTok content calendars.\"\"\"\n    \n    def __init__(self):\n        self.logger =\
    \ logging.getLogger(__name__)\n        \n    def generate_calendar(self, brand_name: str, weeks: int = 4, \n         \
    \                posts_per_week: int = 5) -> Dict[str, Any]:\n        \"\"\"Generate a weekly TikTok content calendar.\"\
    \"\"\n        calendar = {}\n        start_date = datetime.now()\n        \n        themes = [\"Monday Motivation\", \"\
    Tutorial Tuesday\", \"Wishlist Wednesday\", \n                 \"Throwback Thursday\", \"Feature Friday\"]\n        \n\
    \        for week in range(weeks):\n            week_start = start_date + timedelta(weeks=week)\n            week_key\
    \ = f\"week_{week + 1}\"\n            calendar[week_key] = []\n            \n            for day in range(posts_per_week):\n\
    \                post_date = week_start + timedelta(days=day)\n                post = {\n                    \"date\"\
    : post_date.strftime(\"%Y-%m-%d\"),\n                    \"theme\": themes[day % len(themes)],\n                    \"\
    content_type\": \"standard_pin\" if day % 2 == 0 else \"video_pin\",\n                    \"hashtags\": self._generate_hashtags(themes[day\
    \ % len(themes)]),\n                    \"best_time\": \"8:00 PM\" if day < 3 else \"9:00 PM\"\n                }\n  \
    \              calendar[week_key].append(post)\n        \n        return {\n            \"brand\": brand_name,\n     \
    \       \"calendar\": calendar,\n            \"total_posts\": weeks * posts_per_week,\n            \"created_at\": datetime.now().isoformat()\n\
    \        }\n    \n    def _generate_hashtags(self, theme: str) -> List[str]:\n        \"\"\"Generate relevant hashtags\
    \ for content theme.\"\"\"\n        hashtag_map = {\n            \"Monday Motivation\": [\"#mondaymotivation\", \"#newweek\"\
    , \"#inspiration\", \"#goals\"],\n            \"Tutorial Tuesday\": [\"#tutorialtuesday\", \"#howto\", \"#diy\", \"#tips\"\
    ],\n            \"Wishlist Wednesday\": [\"#wishlistwednesday\", \"#musthave\", \"#shopping\", \"#trending\"],\n     \
    \       \"Throwback Thursday\": [\"#throwbackthursday\", \"#tbt\", \"#nostalgia\", \"#memories\"],\n            \"Feature\
    \ Friday\": [\"#featurefriday\", \"#favorites\", \"#top picks\", \"#weekendvibes\"]\n        }\n        return hashtag_map.get(theme,\
    \ [\"#tiktok\", \"#inspiration\"])\n\nclass TikTokAudienceTargeting:\n    \"\"\"Builds and manages TikTok audiences.\"\
    \"\"\n    \n    def __init__(self):\n        self.logger = logging.getLogger(__name__)\n        \n    def build_audience(self,\
    \ demographics: Dict[str, Any], interests: List[str]) -> Dict[str, Any]:\n        \"\"\"Build targeted audience based\
    \ on demographics and interests.\"\"\"\n        audience_id = f\"aud_{hashlib.md5(str(demographics).encode()).hexdigest()[:8]}\"\
    \n        \n        return {\n            \"audience_id\": audience_id,\n            \"demographics\": demographics,\n\
    \            \"interests\": interests,\n            \"estimated_size\": self._estimate_audience_size(demographics, interests),\n\
    \            \"created_at\": datetime.now().isoformat()\n        }\n    \n    def create_lookalike(self, source_audience_id:\
    \ str, similarity: float = 0.8) -> Dict[str, Any]:\n        \"\"\"Create lookalike audience based on source audience.\"\
    \"\"\n        lookalike_id = f\"lookalike_{source_audience_id}_{int(similarity * 100)}\"\n        \n        return {\n\
    \            \"lookalike_id\": lookalike_id,\n            \"source_audience\": source_audience_id,\n            \"similarity\"\
    : similarity,\n            \"estimated_size\": 50000,\n            \"created_at\": datetime.now().isoformat()\n      \
    \  }\n    \n    def segment_audience(self, audience_id: str, segments: List[str]) -> Dict[str, Any]:\n        \"\"\"Segment\
    \ audience into smaller, targeted groups.\"\"\"\n        segment_data = {}\n        for segment in segments:\n       \
    \     segment_id = f\"{audience_id}_{segment.lower().replace(' ', '_')}\"\n            segment_data[segment] = {\n   \
    \             \"segment_id\": segment_id,\n                \"size\": 10000,\n                \"characteristics\": segment\n\
    \            }\n        \n        return {\n            \"audience_id\": audience_id,\n            \"segments\": segment_data,\n\
    \            \"total_segments\": len(segments),\n            \"created_at\": datetime.now().isoformat()\n        }\n \
    \   \n    def _estimate_audience_size(self, demographics: Dict[str, Any], interests: List[str]) -> int:\n        \"\"\"\
    Estimate audience size based on targeting parameters.\"\"\"\n        base_size = 100000\n        modifier = 1.0\n    \
    \    \n        if \"age_range\" in demographics:\n            age_range = demographics[\"age_range\"]\n            if\
    \ age_range == \"25-34\":\n                modifier *= 1.2\n            elif age_range == \"35-44\":\n               \
    \ modifier *= 0.9\n                \n        return int(base_size * modifier * (0.5 + len(interests) * 0.1))\n\nclass\
    \ TikTokTrendAnalyzer:\n    \"\"\"Analyzes TikTok trends and hashtags.\"\"\"\n    \n    def __init__(self):\n        self.logger\
    \ = logging.getLogger(__name__)\n        \n    def analyze_trends(self, keywords: List[str], timeframe: str = \"30d\"\
    ) -> Dict[str, Any]:\n        \"\"\"Analyze trending topics and search volume.\"\"\"\n        trends = {}\n        \n\
    \        for keyword in keywords:\n            trends[keyword] = {\n                \"search_volume\": 10000 + hash(keyword)\
    \ % 50000,\n                \"growth_rate\": 0.05 + (hash(keyword) % 100) / 1000,\n                \"competition\": \"\
    low\" if hash(keyword) % 10 < 3 else \"high\",\n                \"related_terms\": [f\"{keyword} ideas\", f\"{keyword}\
    \ inspiration\", f\"best {keyword}\"]\n            }\n        \n        return {\n            \"keywords\": keywords,\n\
    \            \"trends\": trends,\n            \"timeframe\": timeframe,\n            \"analyzed_at\": datetime.now().isoformat()\n\
    \        }\n    \n    def get_trending_topics(self, category: str, limit: int = 10) -> List[str]:\n        \"\"\"Get current\
    \ trending topics for a category.\"\"\"\n        trending_map = {\n            \"home\": [\"boho decor\", \"minimalist\
    \ bedroom\", \"kitchen organization\"],\n            \"fashion\": [\"cottagecore\", \"y2k fashion\", \"capsule wardrobe\"\
    ],\n            \"food\": [\"meal prep\", \"plant based\", \"charcuterie board\"]\n        }\n        \n        return\
    \ trending_map.get(category, [\"trending topic 1\", \"trending topic 2\"])[:limit]\n    \n    def analyze_hashtags(self,\
    \ hashtags: List[str]) -> Dict[str, Any]:\n        \"\"\"Analyze hashtag performance and suggestions.\"\"\"\n        analysis\
    \ = {}\n        \n        for tag in hashtags:\n            analysis[tag] = {\n                \"search_volume\": 5000\
    \ + hash(tag) % 20000,\n                \"engagement_rate\": 0.03 + (hash(tag) % 50) / 1000,\n                \"suggestions\"\
    : [f\"#{tag}ideas\", f\"#{tag}inspiration\", f\"#{tag}style\"]\n            }\n        \n        return {\n          \
    \  \"hashtags\": hashtags,\n            \"analysis\": analysis,\n            \"top_performers\": sorted(hashtags, key=lambda\
    \ x: analysis[x][\"engagement_rate\"], reverse=True)[:3]\n        }\n\nclass TikTokCompetitorAnalyzer:\n    \"\"\"Analyzes\
    \ competitor TikTok strategies.\"\"\"\n    \n    def __init__(self):\n        self.logger = logging.getLogger(__name__)\n\
    \        \n    def audit_competitor(self, competitor_name: str) -> Dict[str, Any]:\n        \"\"\"Perform comprehensive\
    \ competitor audit.\"\"\"\n        return {\n            \"competitor\": competitor_name,\n            \"boards\": [\n\
    \                {\"name\": \"Home Inspiration\", \"pins\": 1250, \"followers\": 5000},\n                {\"name\": \"\
    DIY Projects\", \"pins\": 890, \"followers\": 3200}\n            ],\n            \"top_pins\": [\n                {\"\
    title\": \"Living Room Makeover\", \"saves\": 5000, \"likes\": 1200},\n                {\"title\": \"Small Space Ideas\"\
    , \"saves\": 3200, \"likes\": 800}\n            ],\n            \"posting_frequency\": \"3-5 pins per day\",\n       \
    \     \"engagement_rate\": 0.045,\n            \"audience_insights\": {\n                \"top_countries\": [\"US\", \"\
    CA\", \"UK\"],\n                \"age_groups\": [\"25-34\", \"35-44\"]\n            },\n            \"audit_date\": datetime.now().isoformat()\n\
    \        }\n\nclass TikTokInfluencerFinder:\n    \"\"\"Finds and analyzes TikTok influencers.\"\"\"\n    \n    def __init__(self):\n\
    \        self.logger = logging.getLogger(__name__)\n        \n    def find_influencers(self, niche: str, min_followers:\
    \ int = 10000) -> List[Dict[str, Any]]:\n        \"\"\"Find relevant TikTok influencers.\"\"\"\n        influencers =\
    \ []\n        \n        for i in range(5):\n            influencer = {\n                \"username\": f\"{niche}_influencer_{i+1}\"\
    ,\n                \"followers\": min_followers + (i * 5000),\n                \"engagement_rate\": 0.05 + (i * 0.01),\n\
    \                \"niche\": niche,\n                \"contact\": f\"contact@{niche}influencer{i+1}.com\",\n          \
    \      \"collaboration_ideas\": [\n                    \"Sponsored pin series\",\n                    \"Product review\
    \ boards\",\n                    \"Giveaway campaign\"\n                ]\n            }\n            influencers.append(influencer)\n\
    \        \n        return influencers\n    \n    def estimate_campaign_cost(self, influencer: Dict[str, Any], \n     \
    \                        campaign_type: str = \"sponsored_pin\") -> Dict[str, float]:\n        \"\"\"Estimate cost for\
    \ influencer collaboration.\"\"\"\n        base_rate = influencer[\"followers\"] * 0.01\n        \n        rates = {\n\
    \            \"sponsored_pin\": base_rate,\n            \"board_collaboration\": base_rate * 1.5,\n            \"takeover\"\
    : base_rate * 3\n        }\n        \n        return {\n            \"influencer\": influencer[\"username\"],\n      \
    \      \"campaign_type\": campaign_type,\n            \"estimated_cost\": rates.get(campaign_type, base_rate),\n     \
    \       \"negotiation_range\": [rates.get(campaign_type, base_rate) * 0.8,\n                                rates.get(campaign_type,\
    \ base_rate) * 1.2]\n        }\n\nclass TikTokAnalytics:\n    \"\"\"Tracks and analyzes TikTok performance.\"\"\"\n  \
    \  \n    def __init__(self):\n        self.logger = logging.getLogger(__name__)\n        \n    def generate_report(self,\
    \ campaign_ids: List[str], date_range: Tuple[str, str]) -> Dict[str, Any]:\n        \"\"\"Generate comprehensive analytics\
    \ report.\"\"\"\n        return {\n            \"campaigns\": campaign_ids,\n            \"date_range\": date_range,\n\
    \            \"metrics\": {\n                \"impressions\": 100000,\n                \"clicks\": 2500,\n           \
    \     \"saves\": 500,\n                \"ctr\": 0.025,\n                \"cpc\": 1.5,\n                \"conversions\"\
    : 125,\n                \"conversion_rate\": 0.05,\n                \"roas\": 3.2\n            },\n            \"top_performing_pins\"\
    : [\n                {\"pin_id\": \"pin_001\", \"saves\": 200, \"clicks\": 50},\n                {\"pin_id\": \"pin_002\"\
    , \"saves\": 150, \"clicks\": 40}\n            ],\n            \"generated_at\": datetime.now().isoformat()\n        }\n\
    \    \n    def track_roi(self, campaign_id: str, revenue: float, ad_spend: float) -> Dict[str, float]:\n        \"\"\"\
    Calculate ROI for TikTok campaigns.\"\"\"\n        roi = ((revenue - ad_spend) / ad_spend) * 100\n        roas = revenue\
    \ / ad_spend\n        \n        return {\n            \"campaign_id\": campaign_id,\n            \"revenue\": revenue,\n\
    \            \"ad_spend\": ad_spend,\n            \"roi\": roi,\n            \"roas\": roas,\n            \"profit\":\
    \ revenue - ad_spend,\n            \"calculated_at\": datetime.now().isoformat()\n        }\n\nclass TikTokComplianceChecker:\n\
    \    \"\"\"Checks TikTok ad content compliance.\"\"\"\n    \n    def __init__(self):\n        self.logger = logging.getLogger(__name__)\n\
    \        \n    def check_ad_content(self, content: Dict[str, Any]) -> Dict[str, Any]:\n        \"\"\"Check if ad content\
    \ meets TikTok guidelines.\"\"\"\n        issues = []\n        warnings = []\n        \n        # Check headline length\n\
    \        if len(content.get(\"headline\", \"\")) > 100:\n            issues.append(\"Headline exceeds 100 characters\"\
    )\n            \n        # Check for prohibited content\n        prohibited = [\"before and after\", \"click here\", \"\
    free\"]\n        for word in prohibited:\n            if word.lower() in content.get(\"description\", \"\").lower():\n\
    \                warnings.append(f\"Consider avoiding '{word}' in description\")\n                \n        # Check image\
    \ quality\n        if content.get(\"image_url\") and \"low-res\" in content.get(\"image_url\", \"\"):\n            issues.append(\"\
    Image quality may be too low\")\n            \n        return {\n            \"compliant\": len(issues) == 0,\n      \
    \      \"issues\": issues,\n            \"warnings\": warnings,\n            \"checked_at\": datetime.now().isoformat()\n\
    \        }\n\nTOOLS = [\n    {\n        \"name\": \"create_tiktok_ad\",\n        \"description\": \"Create a new TikTok\
    \ ad with specified format\",\n        \"inputSchema\": {\n            \"type\": \"object\",\n            \"properties\"\
    : {\n                \"ad_type\": {\"type\": \"string\", \"enum\": [\"image\", \"video\", \"carousel\"]},\n          \
    \      \"product_name\": {\"type\": \"string\"},\n                \"headline\": {\"type\": \"string\"},\n            \
    \    \"description\": {\"type\": \"string\"},\n                \"cta\": {\"type\": \"string\"},\n                \"keywords\"\
    : {\"type\": \"array\", \"items\": {\"type\": \"string\"}}\n            },\n            \"required\": [\"ad_type\", \"\
    product_name\", \"headline\", \"description\"]\n        }\n    },\n    {\n        \"name\": \"generate_content_calendar\"\
    ,\n        \"description\": \"Generate TikTok content calendar\",\n        \"inputSchema\": {\n            \"type\": \"\
    object\",\n            \"properties\": {\n                \"brand_name\": {\"type\": \"string\"},\n                \"\
    weeks\": {\"type\": \"integer\", \"minimum\": 1, \"maximum\": 12},\n                \"posts_per_week\": {\"type\": \"\
    integer\", \"minimum\": 1, \"maximum\": 7}\n            },\n            \"required\": [\"brand_name\"]\n        }\n  \
    \  },\n    {\n        \"name\": \"analyze_trends\",\n        \"description\": \"Analyze TikTok trends for keywords\",\n\
    \        \"inputSchema\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"keywords\"\
    : {\"type\": \"array\", \"items\": {\"type\": \"string\"}},\n                \"timeframe\": {\"type\": \"string\", \"\
    enum\": [\"7d\", \"30d\", \"90d\"]}\n            },\n            \"required\": [\"keywords\"]\n        }\n    },\n   \
    \ {\n        \"name\": \"audit_competitor\",\n        \"description\": \"Audit competitor TikTok presence\",\n       \
    \ \"inputSchema\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"competitor_name\"\
    : {\"type\": \"string\"}\n            },\n            \"required\": [\"competitor_name\"]\n        }\n    },\n    {\n\
    \        \"name\": \"find_influencers\",\n        \"description\": \"Find TikTok influencers in specific niche\",\n  \
    \      \"inputSchema\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"niche\"\
    : {\"type\": \"string\"},\n                \"min_followers\": {\"type\": \"integer\", \"minimum\": 1000}\n           \
    \ },\n            \"required\": [\"niche\"]\n        }\n    },\n    {\n        \"name\": \"track_roi\",\n        \"description\"\
    : \"Calculate ROI for TikTok campaigns\",\n        \"inputSchema\": {\n            \"type\": \"object\",\n           \
    \ \"properties\": {\n                \"campaign_id\": {\"type\": \"string\"},\n                \"revenue\": {\"type\"\
    : \"number\", \"minimum\": 0},\n                \"ad_spend\": {\"type\": \"number\", \"minimum\": 0}\n            },\n\
    \            \"required\": [\"campaign_id\", \"revenue\", \"ad_spend\"]\n        }\n    }\n]\n\ndef create_fastapi_router():\n\
    \    \"\"\"Create FastAPI router with TikTok marketing endpoints.\"\"\"\n    from fastapi import APIRouter, HTTPException\n\
    \    from pydantic import BaseModel\n    \n    router = APIRouter(prefix=\"/tiktok\", tags=[\"tiktok\"])\n    \n    class\
    \ AdRequest(BaseModel):\n        ad_type: str\n        product_name: str\n        headline: str\n        description:\
    \ str\n        cta: str\n        keywords: List[str]\n    \n    class CalendarRequest(BaseModel):\n        brand_name:\
    \ str\n        weeks: int = 4\n        posts_per_week: int = 5\n    \n    @router.post(\"/create-ad\")\n    async def\
    \ create_ad(request: AdRequest):\n        creator = TikTokAdCreator()\n        if request.ad_type == \"image\":\n    \
    \        return creator.create_image_ad(\n                request.product_name, \"\", request.headline,\n            \
    \    request.description, request.cta, request.keywords\n            )\n        return {\"error\": \"Invalid ad type\"\
    }\n    \n    @router.post(\"/generate-calendar\")\n    async def generate_calendar(request: CalendarRequest):\n      \
    \  calendar = TikTokContentCalendar()\n        return calendar.generate_calendar(\n            request.brand_name, request.weeks,\
    \ request.posts_per_week\n        )\n    \n    @router.get(\"/trends/{keyword}\")\n    async def get_trends(keyword: str):\n\
    \        analyzer = TikTokTrendAnalyzer()\n        return analyzer.analyze_trends([keyword])\n    \n    return router\n\
    \nclass TestTikTokMarketing(unittest.TestCase):\n    \"\"\"Test cases for TikTok marketing functionality.\"\"\"\n    \n\
    \    def setUp(self):\n        self.ad_creator = TikTokAdCreator()\n        self.campaign_manager = TikTokCampaignManager()\n\
    \        self.calendar = TikTokContentCalendar()\n        self.analyzer = TikTokTrendAnalyzer()\n        \n    def test_create_image_ad(self):\n\
    \        ad = self.ad_creator.create_image_ad(\n            \"Test Product\", \"test.jpg\", \"Test Headline\",\n     \
    \       \"Test Description\", \"Shop Now\", [\"test\", \"keyword\"]\n        )\n        self.assertEqual(ad[\"type\"],\
    \ \"standard_pin\")\n        self.assertIn(\"ad_id\", ad)\n        \n    def test_quick_ad_ready_to_post(self):\n    \
    \    ad = self.ad_creator.quick_ad(\"Test Product\", \"test.jpg\", \"women 25-34\")\n        self.assertTrue(ad[\"ready_to_post\"\
    ])\n        self.assertIn(\"posting_checklist\", ad)\n        \n    def test_create_campaign(self):\n        campaign\
    \ = self.campaign_manager.create_campaign(\n            \"Test Campaign\", \"AWARENESS\", 1000,\n            \"2024-01-01\"\
    , \"2024-01-31\"\n        )\n        self.assertEqual(campaign[\"objective\"], \"AWARENESS\")\n        self.assertEqual(campaign[\"\
    budget\"], 1000)\n        \n    def test_generate_calendar(self):\n        calendar = self.calendar.generate_calendar(\"\
    Test Brand\", 2, 3)\n        self.assertEqual(len(calendar[\"calendar\"]), 2)\n        self.assertEqual(calendar[\"total_posts\"\
    ], 6)\n        \n    def test_analyze_trends(self):\n        trends = self.analyzer.analyze_trends([\"home decor\", \"\
    diy\"])\n        self.assertIn(\"home decor\", trends[\"trends\"])\n        self.assertIn(\"growth_rate\", trends[\"trends\"\
    ][\"home decor\"])\n        \n    def test_competitor_audit(self):\n        analyzer = TikTokCompetitorAnalyzer()\n  \
    \      audit = analyzer.audit_competitor(\"Test Competitor\")\n        self.assertEqual(audit[\"competitor\"], \"Test\
    \ Competitor\")\n        self.assertIn(\"boards\", audit)\n        \n    def test_find_influencers(self):\n        finder\
    \ = TikTokInfluencerFinder()\n        influencers = finder.find_influencers(\"fashion\", 10000)\n        self.assertEqual(len(influencers),\
    \ 5)\n        self.assertTrue(all(i[\"followers\"] >= 10000 for i in influencers))\n        \n    def test_roi_tracking(self):\n\
    \        analytics = TikTokAnalytics()\n        roi = analytics.track_roi(\"test_campaign\", 10000, 2500)\n        self.assertEqual(roi[\"\
    roi\"], 300.0)\n        self.assertEqual(roi[\"roas\"], 4.0)\n        \n    def test_compliance_check(self):\n       \
    \ checker = TikTokComplianceChecker()\n        content = {\"headline\": \"Test\", \"description\": \"Great product for\
    \ free\"}\n        result = checker.check_ad_content(content)\n        self.assertFalse(result[\"compliant\"])\n     \
    \   self.assertTrue(len(result[\"warnings\"]) > 0)\n        \n    def test_audience_building(self):\n        targeting\
    \ = TikTokAudienceTargeting()\n        audience = targeting.build_audience(\n            {\"age_range\": \"25-34\", \"\
    gender\": \"female\"},\n            [\"home decor\", \"diy\"]\n        )\n        self.assertIn(\"audience_id\", audience)\n\
    \        self.assertEqual(audience[\"demographics\"][\"age_range\"], \"25-34\")\n\ndef main():\n    \"\"\"CLI interface\
    \ for TikTok marketing tools.\"\"\"\n    parser = argparse.ArgumentParser(description=\"TikTok Marketing Expert CLI\"\
    )\n    subparsers = parser.add_subparsers(dest=\"command\", help=\"Available commands\")\n    \n    # Quick ad command\n\
    \    quick_parser = subparsers.add_parser(\"quick-ad\", help=\"Create quick TikTok ad\")\n    quick_parser.add_argument(\"\
    --product\", required=True)\n    quick_parser.add_argument(\"--image\", required=True)\n    quick_parser.add_argument(\"\
    --audience\", required=True)\n    \n    # Video ad command\n    video_parser = subparsers.add_parser(\"video-ad\", help=\"\
    Create video ad\")\n    video_parser.add_argument(\"--product\", required=True)\n    video_parser.add_argument(\"--video\"\
    , required=True)\n    \n    # Campaign command\n    campaign_parser = subparsers.add_parser(\"campaign\", help=\"Create\
    \ campaign\")\n    campaign_parser.add_argument(\"--name\", required=True)\n    campaign_parser.add_argument(\"--objective\"\
    , choices=[\"AWARENESS\", \"CONSIDERATION\", \"CONVERSIONS\"])\n    campaign_parser.add_argument(\"--budget\", type=float,\
    \ required=True)\n    \n    # Calendar command\n    calendar_parser = subparsers.add_parser(\"calendar\", help=\"Generate\
    \ content calendar\")\n    calendar_parser.add_argument(\"--brand\", required=True)\n    calendar_parser.add_argument(\"\
    --weeks\", type=int, default=4)\n    \n    # Trends command\n    trends_parser = subparsers.add_parser(\"trends\", help=\"\
    Analyze trends\")\n    trends_parser.add_argument(\"--keywords\", nargs=\"+\", required=True)\n    \n    # Compliance\
    \ command\n    compliance_parser = subparsers.add_parser(\"compliance\", help=\"Check ad compliance\")\n    compliance_parser.add_argument(\"\
    --headline\")\n    compliance_parser.add_argument(\"--description\")\n    \n    # Influencers command\n    influencers_parser\
    \ = subparsers.add_parser(\"influencers\", help=\"Find influencers\")\n    influencers_parser.add_argument(\"--niche\"\
    , required=True)\n    \n    # ROI command\n    roi_parser = subparsers.add_parser(\"roi\", help=\"Calculate ROI\")\n \
    \   roi_parser.add_argument(\"--campaign\", required=True)\n    roi_parser.add_argument(\"--revenue\", type=float, required=True)\n\
    \    roi_parser.add_argument(\"--spend\", type=float, required=True)\n    \n    args = parser.parse_args()\n    \n   \
    \ if args.command == \"quick-ad\":\n        creator = TikTokAdCreator()\n        result = creator.quick_ad(args.product,\
    \ args.image, args.audience)\n        print(json.dumps(result, indent=2))\n        \n    elif args.command == \"campaign\"\
    :\n        manager = TikTokCampaignManager()\n        end_date = (datetime.now() + timedelta(days=30)).strftime(\"%Y-%m-%d\"\
    )\n        campaign = manager.create_campaign(\n            args.name, args.objective, args.budget,\n            datetime.now().strftime(\"\
    %Y-%m-%d\"), end_date\n        )\n        print(json.dumps(campaign, indent=2))\n        \n    elif args.command == \"\
    calendar\":\n        calendar = TikTokContentCalendar()\n        cal = calendar.generate_calendar(args.brand, args.weeks)\n\
    \        print(json.dumps(cal, indent=2))\n        \n    elif args.command == \"trends\":\n        analyzer = TikTokTrendAnalyzer()\n\
    \        trends = analyzer.analyze_trends(args.keywords)\n        print(json.dumps(trends, indent=2))\n        \n    elif\
    \ args.command == \"roi\":\n        analytics = TikTokAnalytics()\n        roi = analytics.track_roi(args.campaign, args.revenue,\
    \ args.spend)\n        print(json.dumps(roi, indent=2))\n        \n    else:\n        parser.print_help()\n\nif __name__\
    \ == \"__main__\":\n    main()"
examples:
- description: Load and use the TikTok Marketing Expert skill
  usage: 'from revvel_skills import load_skill

    skill = load_skill(''tiktok_marketing'')

    result = skill.execute(params)'
schema_version: '1.0'
