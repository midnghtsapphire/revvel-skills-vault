name: openclaw_tmux
title: üßµ Tmux
version: 1.0.0
description: Remote-control tmux sessions for interactive CLIs by sending keystrokes and scraping pane output.
metadata:
  author: OpenClaw
  category: Automation & Productivity
  tags:
  - openclaw
  - bundled
  - tmux
  source: openclaw-bundled
  created_at: '2026-02-16'
  updated_at: '2026-02-16'
dependencies:
  tools:
  - tmux
install: []
implementation:
  type: markdown_prompt
  language: markdown
  content: "---\nname: tmux\ndescription: Remote-control tmux sessions for interactive CLIs by sending keystrokes and scraping\
    \ pane output.\nmetadata:\n  { \"openclaw\": { \"emoji\": \"\U0001F9F5\", \"os\": [\"darwin\", \"linux\"], \"requires\"\
    : { \"bins\": [\"tmux\"] } } }\n---\n\n# tmux Skill (OpenClaw)\n\nUse tmux only when you need an interactive TTY. Prefer\
    \ exec background mode for long-running, non-interactive tasks.\n\n## Quickstart (isolated socket, exec tool)\n\n```bash\n\
    SOCKET_DIR=\"${OPENCLAW_TMUX_SOCKET_DIR:-${CLAWDBOT_TMUX_SOCKET_DIR:-${TMPDIR:-/tmp}/openclaw-tmux-sockets}}\"\nmkdir\
    \ -p \"$SOCKET_DIR\"\nSOCKET=\"$SOCKET_DIR/openclaw.sock\"\nSESSION=openclaw-python\n\ntmux -S \"$SOCKET\" new -d -s \"\
    $SESSION\" -n shell\ntmux -S \"$SOCKET\" send-keys -t \"$SESSION\":0.0 -- 'PYTHON_BASIC_REPL=1 python3 -q' Enter\ntmux\
    \ -S \"$SOCKET\" capture-pane -p -J -t \"$SESSION\":0.0 -S -200\n```\n\nAfter starting a session, always print monitor\
    \ commands:\n\n```\nTo monitor:\n  tmux -S \"$SOCKET\" attach -t \"$SESSION\"\n  tmux -S \"$SOCKET\" capture-pane -p -J\
    \ -t \"$SESSION\":0.0 -S -200\n```\n\n## Socket convention\n\n- Use `OPENCLAW_TMUX_SOCKET_DIR` (legacy `CLAWDBOT_TMUX_SOCKET_DIR`\
    \ also supported).\n- Default socket path: `\"$OPENCLAW_TMUX_SOCKET_DIR/openclaw.sock\"`.\n\n## Targeting panes and naming\n\
    \n- Target format: `session:window.pane` (defaults to `:0.0`).\n- Keep names short; avoid spaces.\n- Inspect: `tmux -S\
    \ \"$SOCKET\" list-sessions`, `tmux -S \"$SOCKET\" list-panes -a`.\n\n## Finding sessions\n\n- List sessions on your socket:\
    \ `{baseDir}/scripts/find-sessions.sh -S \"$SOCKET\"`.\n- Scan all sockets: `{baseDir}/scripts/find-sessions.sh --all`\
    \ (uses `OPENCLAW_TMUX_SOCKET_DIR`).\n\n## Sending input safely\n\n- Prefer literal sends: `tmux -S \"$SOCKET\" send-keys\
    \ -t target -l -- \"$cmd\"`.\n- Control keys: `tmux -S \"$SOCKET\" send-keys -t target C-c`.\n- For interactive TUI apps\
    \ like Claude Code/Codex, this guidance covers **how to send commands**.\n  Do **not** append `Enter` in the same `send-keys`.\
    \ These apps may treat a fast text+Enter\n  sequence as paste/multi-line input and not submit; this is timing-dependent.\
    \ Send text and\n  `Enter` as separate commands with a small delay (tune per environment; increase if needed,\n  or use\
    \ `sleep 1` if sub-second sleeps aren't supported):\n\n```bash\ntmux -S \"$SOCKET\" send-keys -t target -l -- \"$cmd\"\
    \ && sleep 0.1 && tmux -S \"$SOCKET\" send-keys -t target Enter\n```\n\n## Watching output\n\n- Capture recent history:\
    \ `tmux -S \"$SOCKET\" capture-pane -p -J -t target -S -200`.\n- Wait for prompts: `{baseDir}/scripts/wait-for-text.sh\
    \ -t session:0.0 -p 'pattern'`.\n- Attaching is OK; detach with `Ctrl+b d`.\n\n## Spawning processes\n\n- For python REPLs,\
    \ set `PYTHON_BASIC_REPL=1` (non-basic REPL breaks send-keys flows).\n\n## Windows / WSL\n\n- tmux is supported on macOS/Linux.\
    \ On Windows, use WSL and install tmux inside WSL.\n- This skill is gated to `darwin`/`linux` and requires `tmux` on PATH.\n\
    \n## Orchestrating Coding Agents (Codex, Claude Code)\n\ntmux excels at running multiple coding agents in parallel:\n\n\
    ```bash\nSOCKET=\"${TMPDIR:-/tmp}/codex-army.sock\"\n\n# Create multiple sessions\nfor i in 1 2 3 4 5; do\n  tmux -S \"\
    $SOCKET\" new-session -d -s \"agent-$i\"\ndone\n\n# Launch agents in different workdirs\ntmux -S \"$SOCKET\" send-keys\
    \ -t agent-1 \"cd /tmp/project1 && codex --yolo 'Fix bug X'\" Enter\ntmux -S \"$SOCKET\" send-keys -t agent-2 \"cd /tmp/project2\
    \ && codex --yolo 'Fix bug Y'\" Enter\n\n# When sending prompts to Claude Code/Codex TUI, split text + Enter with a delay\n\
    tmux -S \"$SOCKET\" send-keys -t agent-1 -l -- \"Please make a small edit to README.md.\" && sleep 0.1 && tmux -S \"$SOCKET\"\
    \ send-keys -t agent-1 Enter\n\n# Poll for completion (check if prompt returned)\nfor sess in agent-1 agent-2; do\n  if\
    \ tmux -S \"$SOCKET\" capture-pane -p -t \"$sess\" -S -3 | grep -q \"‚ùØ\"; then\n    echo \"$sess: DONE\"\n  else\n   \
    \ echo \"$sess: Running...\"\n  fi\ndone\n\n# Get full output from completed session\ntmux -S \"$SOCKET\" capture-pane\
    \ -p -t agent-1 -S -500\n```\n\n**Tips:**\n\n- Use separate git worktrees for parallel fixes (no branch conflicts)\n-\
    \ `pnpm install` first before running codex in fresh clones\n- Check for shell prompt (`‚ùØ` or `$`) to detect completion\n\
    - Codex needs `--yolo` or `--full-auto` for non-interactive fixes\n\n## Cleanup\n\n- Kill a session: `tmux -S \"$SOCKET\"\
    \ kill-session -t \"$SESSION\"`.\n- Kill all sessions on a socket: `tmux -S \"$SOCKET\" list-sessions -F '#{session_name}'\
    \ | xargs -r -n1 tmux -S \"$SOCKET\" kill-session -t`.\n- Remove everything on the private socket: `tmux -S \"$SOCKET\"\
    \ kill-server`.\n\n## Helper: wait-for-text.sh\n\n`{baseDir}/scripts/wait-for-text.sh` polls a pane for a regex (or fixed\
    \ string) with a timeout.\n\n```bash\n{baseDir}/scripts/wait-for-text.sh -t session:0.0 -p 'pattern' [-F] [-T 20] [-i\
    \ 0.5] [-l 2000]\n```\n\n- `-t`/`--target` pane target (required)\n- `-p`/`--pattern` regex to match (required); add `-F`\
    \ for fixed string\n- `-T` timeout seconds (integer, default 15)\n- `-i` poll interval seconds (default 0.5)\n- `-l` history\
    \ lines to search (integer, default 1000)\n"
examples: []
schema_version: '1.0'
