name: openclaw_model-usage
title: ðŸ“Š Model Usage
version: 1.0.0
description: Use CodexBar CLI local cost usage to summarize per-model usage for Codex or Claude, including the current (most
  recent) model or a full model breakdown. Trigger when asked for model-level usage/cost data from codexbar, or when you need
  a scriptable per-model summary from codexbar cost JSON.
metadata:
  author: OpenClaw
  category: Automation & Productivity
  tags:
  - openclaw
  - bundled
  - model-usage
  - codexbar
  source: openclaw-bundled
  created_at: '2026-02-16'
  updated_at: '2026-02-16'
dependencies:
  tools:
  - codexbar
install:
- id: brew-cask
  platform: all
  method: brew
  command: ''
  label: Install CodexBar (brew cask)
implementation:
  type: markdown_prompt
  language: markdown
  content: "---\nname: model-usage\ndescription: Use CodexBar CLI local cost usage to summarize per-model usage for Codex\
    \ or Claude, including the current (most recent) model or a full model breakdown. Trigger when asked for model-level usage/cost\
    \ data from codexbar, or when you need a scriptable per-model summary from codexbar cost JSON.\nmetadata:\n  {\n    \"\
    openclaw\":\n      {\n        \"emoji\": \"\U0001F4CA\",\n        \"os\": [\"darwin\"],\n        \"requires\": { \"bins\"\
    : [\"codexbar\"] },\n        \"install\":\n          [\n            {\n              \"id\": \"brew-cask\",\n        \
    \      \"kind\": \"brew\",\n              \"cask\": \"steipete/tap/codexbar\",\n              \"bins\": [\"codexbar\"\
    ],\n              \"label\": \"Install CodexBar (brew cask)\",\n            },\n          ],\n      },\n  }\n---\n\n#\
    \ Model usage\n\n## Overview\n\nGet per-model usage cost from CodexBar's local cost logs. Supports \"current model\" (most\
    \ recent daily entry) or \"all models\" summaries for Codex or Claude.\n\nTODO: add Linux CLI support guidance once CodexBar\
    \ CLI install path is documented for Linux.\n\n## Quick start\n\n1. Fetch cost JSON via CodexBar CLI or pass a JSON file.\n\
    2. Use the bundled script to summarize by model.\n\n```bash\npython {baseDir}/scripts/model_usage.py --provider codex\
    \ --mode current\npython {baseDir}/scripts/model_usage.py --provider codex --mode all\npython {baseDir}/scripts/model_usage.py\
    \ --provider claude --mode all --format json --pretty\n```\n\n## Current model logic\n\n- Uses the most recent daily row\
    \ with `modelBreakdowns`.\n- Picks the model with the highest cost in that row.\n- Falls back to the last entry in `modelsUsed`\
    \ when breakdowns are missing.\n- Override with `--model <name>` when you need a specific model.\n\n## Inputs\n\n- Default:\
    \ runs `codexbar cost --format json --provider <codex|claude>`.\n- File or stdin:\n\n```bash\ncodexbar cost --provider\
    \ codex --format json > /tmp/cost.json\npython {baseDir}/scripts/model_usage.py --input /tmp/cost.json --mode all\ncat\
    \ /tmp/cost.json | python {baseDir}/scripts/model_usage.py --input - --mode current\n```\n\n## Output\n\n- Text (default)\
    \ or JSON (`--format json --pretty`).\n- Values are cost-only per model; tokens are not split by model in CodexBar output.\n\
    \n## References\n\n- Read `references/codexbar-cli.md` for CLI flags and cost JSON fields.\n"
examples: []
schema_version: '1.0'
